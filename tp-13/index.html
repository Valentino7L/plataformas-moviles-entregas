<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lista de Contactos - DOM y JavaScript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container my-4">
        <h1>Lista de Contactos</h1>
        <div class="card">
            <div class="card-body">
                <h2>Contactos</h2>

                
                <div class="mb-3">
                    <button id="btn-ordenar-nombre" class="btn btn-outline-primary me-2">Ordenar por Nombre</button>
                    <button id="btn-ordenar-apellido" class="btn btn-outline-primary me-2">Ordenar por Apellido</button>
                    <button id="btn-ver-favoritos" class="btn btn-outline-warning">Ver Favoritos</button>
                </div>

                
                <ul id="lista-contactos" class="list-group mb-3"></ul>

                <hr class="hr">

                <h2>Nuevo Contacto</h2>
                <form id="form-contacto">
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" id="input-nombre" placeholder="Nombre" required>
                        <input type="text" class="form-control" id="input-apellido" placeholder="Apellido" required>
                        <input type="text" class="form-control" id="input-telefono" placeholder="TelÃ©fono" required>
                    </div>
                    <button class="btn btn-primary" type="submit">Agregar Contacto</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        let contactos = [
            { nombre: 'Juan', apellido: 'Perez', telefono: '123456789', favorito: false },
        ];

        let mostrarSoloFavoritos = false;

        
        function agregarContacto(nombre, apellido, telefono) {
            contactos.push({ nombre, apellido, telefono, favorito: false });
            mostrarListado();
        }

        
        function mostrarListado() {
            const lista = document.getElementById("lista-contactos");
            lista.innerHTML = "";

            let listaMostrar = contactos;
            if (mostrarSoloFavoritos) {
                listaMostrar = contactos.filter(c => c.favorito);
            }

            listaMostrar.forEach((c, index) => {
                const li = document.createElement("li");
                li.className = "list-group-item d-flex justify-content-between align-items-center";

                li.innerHTML = `
                    <div>
                        <strong>${c.nombre} ${c.apellido}</strong> <br>
                        <small>ðŸ“ž ${c.telefono}</small>
                    </div>
                `;

               
                const btnFav = document.createElement("button");
                btnFav.className = `btn btn-sm ${c.favorito ? 'btn-warning' : 'btn-outline-warning'} me-2`;
                btnFav.textContent = "â˜…";
                btnFav.onclick = () => {
                    contactos[index].favorito = !contactos[index].favorito;
                    mostrarListado();
                };

                li.appendChild(btnFav);
                lista.appendChild(li);
            });
        }

        
        function handlerFormulario(e) {
            e.preventDefault();
            const nombre = document.getElementById("input-nombre").value;
            const apellido = document.getElementById("input-apellido").value;
            const telefono = document.getElementById("input-telefono").value;

            document.getElementById("input-nombre").value = "";
            document.getElementById("input-apellido").value = "";
            document.getElementById("input-telefono").value = "";

            agregarContacto(nombre, apellido, telefono);
        }

       
        document.getElementById("btn-ordenar-nombre").addEventListener("click", () => {
            contactos.sort((a, b) => a.nombre.localeCompare(b.nombre));
            mostrarListado();
        });

        
        document.getElementById("btn-ordenar-apellido").addEventListener("click", () => {
            contactos.sort((a, b) => a.apellido.localeCompare(b.apellido));
            mostrarListado();
        });

        
        document.getElementById("btn-ver-favoritos").addEventListener("click", () => {
            mostrarSoloFavoritos = !mostrarSoloFavoritos;
            document.getElementById("btn-ver-favoritos").textContent = mostrarSoloFavoritos ? "Ver Todos" : "Ver Favoritos";
            mostrarListado();
        });

        
        document.getElementById("form-contacto").addEventListener("submit", handlerFormulario);
        mostrarListado();
    </script>
</body>
</html>
